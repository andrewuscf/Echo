<nav class="navbar navbar-default" ng-controller="authController">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand">Echo</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"> <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
                        <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Profile</a></li>
                            <li role="presentation" class="divider"></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Settings</a></li>
                            <li role="presentation" class="divider"></li>
                        <li role="presentation"><input type="submit" role="menuitem" tabindex="-1"
                              class="btn btn-default" ng-click="logout()" value="logout {{user}}"/>
                        </li>
          </ul>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
        <div class="row row-left">
          <div id="sidebar">
              <div class="col-md-3">
                <ul class="sidebar-nav" >
                    <li class="sidebar-brand" ng-init="name='{{name.username}}'">
                        <h1> {{ username }} </h1>
                    </li>
                    <li>
                        <a href="#">Find Friends:</a>
                        <form role="search">
                            <div class="form-group">
                              <input type="text" ng-model="friendSearch" class="form-control" placeholder="Search">
                            </div>
                            <button type="submit" class="btn btn-default" ng-click="findFriend()" data-toggle="modal" data-target="#findFriendsModal">Search</button>
                        </form>
                    </li>
                    <li>
                        <a>Friends</a>
                           <div class="span3">
                                <table class="table">
                                  <tbody>
                                    <tr>
                                      <td>
                                         <div class="media">
                                             <div ng-repeat="friend in friends">
                                                 <p class="friendUsername" ng-init="showProfile=false"
                                                    ng-click="showProfile = !showProfile">
                                                 {{ friend.username }}
                                                 <div ng-show="showProfile">

                                                         <div class="media-left media-middle">
                                                             <a href="#">
                                                                 <img class="media-object" alt="" height="40px" width="40px" >
                                                            </a>
                                                         </div>
                                                         <div class="media-body">
                                                             {{ friend.first_name }} {{ friend.last_name }}<br>
                                                             {{ friend.email }}<br>
                                                         </div>
                                                 </div>
                                                 </p>
                                             </div>

                                         </div>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                            </div>
                    </li>
                </ul>
              </div>
        </div>

        <!--Daniel's new modal-->
        <div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="profileModalLabel" id="findFriendsModal" aria-hidden="true">
          <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h3 class="modal-title" id="modalTitle">People found </h3>
                    <h6>Click to add</h6>
                </div>
                <div class="modal-body">
                    <div ng-repeat="someone in selectedFriends">
                        <span ng-init="checked=false;" ng-click="checked=!checked;" style="font-weight:bold;">{{ someone.username }}</span><br>
                        <span ng-if="checked">Clicked {{ someone.username }}
                            <button type="button" class="btn btn-primary btn-sm" ng-click="addFriend(someone)">
                            Add {{ someone.username }} as friend?</button>
                        </span>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default"
                            data-dismiss="modal">Close</button>
                    <!--
                    <button type="button" class="btn btn-primary" ng-click="addFriend('PLACEHOLDER')">
                        Add Friend</button>-->
                </div>

            </div>
          </div>
        </div>
        <!-- END -->


                <!-- NEW CHAT BY ANDREW -->
                <div class="col-md-6">
                    <div class="well" ng-app="chat" ng-controller="Chat">
                      <form class="form-inline">
                        Your name: <input type="text" ng-model="username">
                      </form>
                        <!--<span style="font-weight:bold;">Your name: {{ username }}</span>-->
                      <div ng-cloak ng-repeat="message in messages">
                        <em>{{message.from}}: </em>{{message.content}}
                      </div><br/>
                      <form class="form-inline" ng-submit="addMessage()">
                        <input type="text" ng-model="message" placeholder="Message...">
                        <button class="btn" type="submit">
                          <i class="icon-reply"> Send</i>
                        </button>
                      </form>
                    </div>

                </div>

            <!--FINISHED-->
                <!--/span-->
               <div class="col-md-3">
                    <div class="sidebar-nav-fixed pull-right">
                        <div class="well">
                         <div class="form-group">
<form role="search">
          <div class="form-group">
              <input ng-model="searchQuery" type="text" placeholder="Search">
          </div>
          <button type="submit" class="btn btn-default" ng-click="music()">Search Music</button>
      </form>




      <div class="well">
                         <div class="form-group" ng-repeat="description in searchResults">
                             <h4> {{ description.permalink }} </h4>
                             <button type="submit" class="btn btn-default" ng-click="playSong(description.permalink_url)">Play Song</button>
                         </div>
          </div>





<iframe id="sc-widget"  ng-src="https://w.soundcloud.com/player/?url=https://soundcloud.com/kyaryfan/kyary-pamyu-pamyu-mondai-girl-preview-1" width="100%" height="465" scrolling="no" frameborder="no"></iframe>
<script src="https://w.soundcloud.com/player/api.js" type="text/javascript"></script>
<script type="text/javascript">
  (function(){
    var widgetIframe = document.getElementById('sc-widget'),
        widget       = SC.Widget(widgetIframe);

    widget.bind(SC.Widget.Events.READY, function() {
      widget.bind(SC.Widget.Events.PLAY, function() {
        // get information about currently playing sound
        widget.getCurrentSound(function(currentSound) {
          console.log('sound ' + currentSound.get('') + 'began to play');
        });
      });
      // get current level of volume
      widget.getVolume(function(volume) {
        console.log('current volume value is ' + volume);
      });
      // set new volume level
      widget.setVolume(50);
      // get the value of the current position
    });

  }());
</script>
                        </div>
                        <!--/.well -->
                    </div>
                    <!--/sidebar-nav-fixed -->
                </div>
                <!--/span-->
            <!--/row-->

            </div>
        </div>






